import color from '@oclif/color'

export const pickRandom = (list: any[]) =>
  list[Math.floor(Math.random() * list.length)]

export function log(...payload: any[]) {
  console.log.apply(console, payload as [any?, ...any[]])
}

export function warning(...payload: any[]) {
  log(color.yellow(...payload))
}

export function bad(...payload: any[]) {
  log(color.red(`\n\n# ---------------- ðŸš¨ ðŸš¨ ðŸš¨ ------------------- #\n\n`))
  log(color.red(...payload))
  log(color.red(`\n\n# ---------------- ðŸš¨ ðŸš¨ ðŸš¨ ------------------- #\n\n`))
}

export function good(...payload: any[]) {
  log(color.green(...payload))
}

export const ascii_art = (colorChoice?: string) => {
  let colorFallback = colorChoice
  if (!colorFallback) {
    const opts = ['red', 'green', 'yellow', 'blue', 'magenta', 'cyan', 'white']
    colorFallback = pickRandom(opts)
  }
  type Augment = {
    red: (_: string) => void
    green: (_: string) => void
    yellow: (_: string) => void
    blue: (_: string) => void
    magenta: (_: string) => void
    cyan: (_: string) => void
    white: (_: string) => void
  }
  const pickColor: Augment = color
  const colorize = pickColor[colorFallback as keyof Augment]
  const variants = [
    `
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   
â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ•‘   
â•šâ•â•â•â•â•â•â•â•šâ•â•     â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•    â•šâ•â•   â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â•    â•šâ•â•`,
    `
â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
â–‘â–‘â–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–‘â–ˆâ–‘â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–‘
â–‘â–ˆ   â–‘â–ˆ  â–ˆâ–‘â–ˆ   â–‘â–ˆ   â–‘â–ˆ  â–ˆâ–‘â–ˆâ–ˆâ–ˆâ–‘â–ˆ  â–ˆâ–‘â–ˆ  â–ˆâ–‘ â–ˆ â–‘
â–‘ â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆ â–‘â–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–‘â–‘â–ˆâ–‘ â–ˆ â–‘â–ˆâ–ˆâ–ˆ â–‘â–ˆâ–‘â–‘â–ˆâ–‘â–‘â–ˆâ–‘â–‘
â–‘â–‘  â–ˆâ–‘â–ˆ  â–‘â–‘â–ˆ  â–‘â–‘â–ˆ  â–‘â–‘â–ˆâ–‘â–‘â–ˆâ–‘â–‘â–ˆâ–‘â–‘â–ˆ  â–ˆâ–‘â–ˆâ–‘â–‘â–ˆâ–‘â–‘â–ˆâ–‘â–‘
â–‘â–ˆâ–ˆâ–ˆ â–‘â–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆ â–‘â–‘â–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆ â–‘ â–ˆâ–ˆ â–‘â–‘â–ˆâ–‘â–‘
â–‘   â–‘â–‘ â–‘â–‘â–‘â–‘    â–‘    â–‘   â–‘â–‘â–‘ â–‘â–‘   â–‘â–‘â–‘  â–‘â–‘â–‘ â–‘â–‘
â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘`,
    `
â•±â•­â”â”â”â•®â•±â•­â”â”â”â•®â•±â•­â”â”â”â•®â•±â•­â”â”â”â•®â•±â•­â”â”â”â•®â•±â•­â•®â•±â•±â•­â•®â•±â•­â”â”â•®â•±â•±â•­â”â”â”â•®â•±â•­â”â”â”â”â•®â•±
â•±â”ƒâ•­â”â•®â”ƒâ•±â”ƒâ•­â”â•®â”ƒâ•±â”ƒâ•­â”â”â•¯â•±â”ƒâ•­â”â”â•¯â•±â•°â•®â•­â•®â”ƒâ•±â”ƒâ•°â•®â•­â•¯â”ƒâ•±â”ƒâ•­â•®â”ƒâ•±â•±â”ƒâ•­â”â•®â”ƒâ•±â”ƒâ•­â•®â•­â•®â”ƒâ•±
â•±â”ƒâ•°â”â”â•®â•±â”ƒâ•°â”â•¯â”ƒâ•±â”ƒâ•°â”â”â•®â•±â”ƒâ•°â”â”â•®â•±â•±â”ƒâ”ƒâ”ƒâ”ƒâ•±â•°â•®â•°â•¯â•­â•¯â•±â”ƒâ•°â•¯â•°â•®â•±â”ƒâ”ƒâ•±â”ƒâ”ƒâ•±â•°â•¯â”ƒâ”ƒâ•°â•¯â•±
â•±â•°â”â”â•®â”ƒâ•±â”ƒâ•­â”â”â•¯â•±â”ƒâ•­â”â”â•¯â•±â”ƒâ•­â”â”â•¯â•±â•±â”ƒâ”ƒâ”ƒâ”ƒâ•±â•±â•°â•®â•­â•¯â•±â•±â”ƒâ•­â”â•®â”ƒâ•±â”ƒâ”ƒâ•±â”ƒâ”ƒâ•±â•±â•±â”ƒâ”ƒâ•±â•±â•±
â•±â”ƒâ•°â”â•¯â”ƒâ•±â”ƒâ”ƒâ•±â•±â•±â•±â”ƒâ•°â”â”â•®â•±â”ƒâ•°â”â”â•®â•±â•­â•¯â•°â•¯â”ƒâ•±â•±â•±â”ƒâ”ƒâ•±â•±â•±â”ƒâ•°â”â•¯â”ƒâ•±â”ƒâ•°â”â•¯â”ƒâ•±â•±â•±â”ƒâ”ƒâ•±â•±â•±
â•±â•°â”â”â”â•¯â•±â•°â•¯â•±â•±â•±â•±â•°â”â”â”â•¯â•±â•°â”â”â”â•¯â•±â•°â”â”â”â•¯â•±â•±â•±â•°â•¯â•±â•±â•±â•°â”â”â”â•¯â•±â•°â”â”â”â•¯â•±â•±â•±â•°â•¯â•±â•±â•±`,
    `
â”€â•”â•â•â•â•—â”€â•”â•â•â•â•—â”€â•”â•â•â•â•—â”€â•”â•â•â•â•—â”€â•”â•â•â•â•—â”€â•”â•—â”€â”€â•”â•—â”€â•”â•â•â•—â”€â”€â•”â•â•â•â•—â”€â•”â•â•â•â•â•—â”€
â”€â•‘â•”â•â•—â•‘â”€â•‘â•”â•â•—â•‘â”€â•‘â•”â•â•â•â”€â•‘â•”â•â•â•â”€â•šâ•—â•”â•—â•‘â”€â•‘â•šâ•—â•”â•â•‘â”€â•‘â•”â•—â•‘â”€â”€â•‘â•”â•â•—â•‘â”€â•‘â•”â•—â•”â•—â•‘â”€
â”€â•‘â•šâ•â•â•—â”€â•‘â•šâ•â•â•‘â”€â•‘â•šâ•â•â•—â”€â•‘â•šâ•â•â•—â”€â”€â•‘â•‘â•‘â•‘â”€â•šâ•—â•šâ•â•”â•â”€â•‘â•šâ•â•šâ•—â”€â•‘â•‘â”€â•‘â•‘â”€â•šâ•â•‘â•‘â•šâ•â”€
â”€â•šâ•â•â•—â•‘â”€â•‘â•”â•â•â•â”€â•‘â•”â•â•â•â”€â•‘â•”â•â•â•â”€â”€â•‘â•‘â•‘â•‘â”€â”€â•šâ•—â•”â•â”€â”€â•‘â•”â•â•—â•‘â”€â•‘â•‘â”€â•‘â•‘â”€â”€â”€â•‘â•‘â”€â”€â”€
â”€â•‘â•šâ•â•â•‘â”€â•‘â•‘â”€â”€â”€â”€â•‘â•šâ•â•â•—â”€â•‘â•šâ•â•â•—â”€â•”â•â•šâ•â•‘â”€â”€â”€â•‘â•‘â”€â”€â”€â•‘â•šâ•â•â•‘â”€â•‘â•šâ•â•â•‘â”€â”€â”€â•‘â•‘â”€â”€â”€
â”€â•šâ•â•â•â•â”€â•šâ•â”€â”€â”€â”€â•šâ•â•â•â•â”€â•šâ•â•â•â•â”€â•šâ•â•â•â•â”€â”€â”€â•šâ•â”€â”€â”€â•šâ•â•â•â•â”€â•šâ•â•â•â•â”€â”€â”€â•šâ•â”€â”€â”€`,
    `
â•”â•â•— â•”â•â•— â•”â•â•— â•”â•â•— â•”â•¦â•— â•¦ â•¦ â•”â•—  â•”â•â•— â•”â•¦â•— 
â•šâ•â•— â• â•â• â•‘â•£  â•‘â•£   â•‘â•‘ â•šâ•¦â• â• â•©â•— â•‘ â•‘  â•‘  
â•šâ•â• â•©   â•šâ•â• â•šâ•â• â•â•©â•  â•©  â•šâ•â• â•šâ•â•  â•©`,
  ]

  const logo = variants[Math.floor(Math.random() * variants.length)]
  log(colorize(logo))
}

export const startFlash = (speed: number = 25) => {
  const intervalRef = setInterval(() => {
    ascii_art()
  }, speed)

  return {
    intervalRef: intervalRef,
    stop: () => clearInterval(intervalRef),
  }
}
